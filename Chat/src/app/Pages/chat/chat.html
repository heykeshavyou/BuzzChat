@if(ChatService.CurrentGroup!=null){
<div class="grid grid-row-14 h-full bg-[#F3EFE8]">
  <div class="row-span-2">
    <div class="border-b p-3 shadow-xs border-gray-300 bg-white">
      <div class="flex items-center gap-2.5">
        <div>
          <img
            src="/16.png"
            height="40"
            width="40"
            class="aspect-square object-contain"
          />
        </div>
        <div>
          <p class="capitalize font-medium">
            {{
              ChatService.CurrentGroup.name == null
                ? GetChatName()
                : ChatService.CurrentGroup.name
            }}
          </p>
        </div>
      </div>
    </div>
  </div>

  <div class="flex flex-col row-span-12 justify-end p-3">
    <div class="overflow-y-scroll h-[68vh] messages" #chatContainer>
      @for (item of ChatService.CurrentGroup.messages; track $index) {
      <div
        class="flex my-1"
        [ngClass]="[item.fromId == User?.id ? 'justify-end' : 'justify-start']"
      >
        <div class="w-1/2 flex" [ngClass]="[item.fromId == User?.id ? 'justify-end' : 'justify-start']">
          <div
            class="bg-white  text-[16px] gap-2 px-2 py-1 rounded-[5px] flex items-center"
          >
            <p class="break-all">
              {{ item.content }}
            </p>

            <div class="flex items-end h-full">
              <p class="text-gray-400 text-[10px] ">
                {{ item.sentOn | date : "h:mm a" }}
              </p>
            </div>
          </div>
        </div>
      </div>
      }
    </div>

    <div
      class="bg-white w-full p-1 px-3 mt-2 shadow-2xl flex items-center rounded-full"
    >
      <form ngForm (submit)="SendMessage($event)" class="w-full">
        <div class="flex justify-between">
          <input
            class="w-[90%] py-2 px-3 rounded-[5px] mb-1 text-[16px] placeholder-gray-600 focus-visible:outline-none"
            placeholder="Type a message"
            autofocus
            [formControl]="Message"
            type="text"
          />
          @if(Message.value!=""){
          <button class="me-1">
            <img src="/send.svg" width="25" />
          </button>
          }
        </div>
      </form>
    </div>
  </div>
</div>

}@else{
  <div class="h-full flex justify-center items-center">
    <p class=" text-3xl">Hey ðŸ‘‹, {{User?.name}} ðŸ˜Š</p>
  </div>
}
